<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Halftone Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="panel-container">
        <header class="panel-header">
            <h1>Halftone Generator</h1>
            <p class="subtitle">Create vector halftone patterns</p>
        </header>

        <div class="panel-content">
            <!-- Pattern Type Selection -->
            <section class="control-section">
                <h2>Pattern Type</h2>
                <div class="pattern-grid">
                    <label class="pattern-option">
                        <input type="radio" name="pattern" value="circle" checked>
                        <span>Circle</span>
                    </label>
                    <label class="pattern-option">
                        <input type="radio" name="pattern" value="square">
                        <span>Square</span>
                    </label>
                    <label class="pattern-option">
                        <input type="radio" name="pattern" value="diamond">
                        <span>Diamond</span>
                    </label>
                    <label class="pattern-option">
                        <input type="radio" name="pattern" value="line">
                        <span>Line</span>
                    </label>
                    <label class="pattern-option">
                        <input type="radio" name="pattern" value="cross">
                        <span>Cross</span>
                    </label>
                    <label class="pattern-option">
                        <input type="radio" name="pattern" value="hexagon">
                        <span>Hexagon</span>
                    </label>
                </div>
            </section>

            <!-- Dot Parameters -->
            <section class="control-section">
                <h2>Dot Parameters</h2>
                <div class="control-group">
                    <label>
                        <span>Size: <span id="dotSizeValue">8</span>px</span>
                        <input type="range" id="dotSize" min="1" max="50" value="8" step="0.5">
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <span>Spacing: <span id="spacingValue">1.2</span>x</span>
                        <input type="range" id="spacing" min="0.5" max="3" value="1.2" step="0.1">
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <span>Density: <span id="densityValue">100</span>%</span>
                        <input type="range" id="density" min="10" max="200" value="100" step="5">
                    </label>
                </div>
            </section>

            <!-- Transformation -->
            <section class="control-section">
                <h2>Transformation</h2>
                <div class="control-group">
                    <label>
                        <span>Angle: <span id="angleValue">45</span>Â°</span>
                        <input type="range" id="angle" min="0" max="360" value="45" step="1">
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <span>Scale X: <span id="scaleXValue">1.0</span></span>
                        <input type="range" id="scaleX" min="0.1" max="3.0" value="1.0" step="0.1">
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <span>Scale Y: <span id="scaleYValue">1.0</span></span>
                        <input type="range" id="scaleY" min="0.1" max="3.0" value="1.0" step="0.1">
                    </label>
                </div>
            </section>

            <!-- Image Adjustments -->
            <section class="control-section">
                <h2>Image Adjustments</h2>
                <div class="control-group">
                    <label>
                        <span>Contrast: <span id="contrastValue">1.0</span></span>
                        <input type="range" id="contrast" min="0.5" max="2.0" value="1.0" step="0.1">
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <span>Brightness: <span id="brightnessValue">0</span></span>
                        <input type="range" id="brightness" min="-100" max="100" value="0" step="1">
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <span>Gamma: <span id="gammaValue">1.0</span></span>
                        <input type="range" id="gamma" min="0.1" max="3.0" value="1.0" step="0.1">
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <span>Threshold: <span id="thresholdValue">128</span></span>
                        <input type="range" id="threshold" min="0" max="255" value="128" step="1">
                    </label>
                </div>
            </section>

            <!-- Advanced Options -->
            <section class="control-section">
                <h2>Advanced Options</h2>
                <div class="control-group">
                    <label>
                        <span>Blur: <span id="blurValue">0</span></span>
                        <input type="range" id="blur" min="0" max="10" value="0" step="1">
                    </label>
                </div>
                <div class="control-group">
                    <label>
                        <span>Noise: <span id="noiseValue">0</span></span>
                        <input type="range" id="noise" min="0" max="100" value="0" step="1">
                    </label>
                </div>
                <div class="control-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="invert">
                        <span>Invert</span>
                    </label>
                </div>
            </section>

            <!-- Test Mode File Upload (Browser Only) -->
            <section id="testFileSection" class="control-section test-only" style="display: none;">
                <h2>Load Image (Test Mode)</h2>
                <div class="control-group">
                    <input type="file" id="imageInput" accept="image/*" class="file-input">
                    <label for="imageInput" class="file-label">Choose Image File</label>

                </div>
            </section>

            <!-- Canvas Preview (Test Mode) -->
            <section id="testCanvasSection" class="control-section test-only" style="display: none;">
                <h2>Preview</h2>
                <div class="canvas-container">
                    <canvas id="halftoneCanvas" width="300" height="300"></canvas>
                    <div id="canvasOverlay" class="canvas-overlay">
                        <p>Loading example image...</p>
                    </div>
                </div>
                <div class="canvas-info">
                    <span id="outputInfo">No image loaded</span>
                </div>
            </section>

            <!-- Mode Indicator -->
            <div id="modeIndicator" class="mode-indicator">
                <span id="modeText">Detecting environment...</span>
            </div>

            <!-- Action Buttons -->
            <section class="action-section">
                <button id="generateBtn" class="btn btn-primary">Generate Halftone</button>
                <button id="resetBtn" class="btn btn-secondary">Reset to Defaults</button>
            </section>

            <!-- Status Display -->
            <div id="status" class="status-message"></div>
        </div>
    </div>

    <script src="lib/CSInterface.js"></script>
    <script src="script.js"></script>
</body>
</html>
